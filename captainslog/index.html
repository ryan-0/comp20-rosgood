<!DOCTYPE html>

<html>

<head>
	<title>Captain's Log</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script>	
	 $(document).ready(function(){
   		loadMessages();
 	});
		
	  $(document).keydown(function (event) {
            if (event.keyCode == '13') {
            	var messages = $("#msg").val();
            	$('#msg').val('');
            	var TimeStamp = new Date();
				var TimeStamp= (TimeStamp.getMonth()+ 1) + '/' + TimeStamp.getDate() + "/" + TimeStamp.getFullYear() + " @ " +TimeStamp.getHours() + ":"+ TimeStamp.getMinutes() + ":" + TimeStamp.getSeconds();
 				localStorage.setItem(TimeStamp,messages);
 				loadMessages();
            }
        });
	  function loadMessages(){
	  	var output = '';
	  	for (key in localStorage) {
	  			output = output.replace(output,'<p><b>'+key+'</b> - '+localStorage[key]+'</p>' + output);
			}
		$("#log").html(output);	
	  }
	
	</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>