<!DOCTYPE html>

<html>

<head>
	<title>Captain's Log</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script>
	 $(document).ready(function(){
   		ReloadMessages();
 	});
	 $(document).keyup(function (event) {
	 	if (event.keyCode == '13') {
	 		StoreAndLoad();
         }
     });
	function StoreAndLoad(){
	  	var messages = $("#msg").val();
        $('#msg').val('');
        var TimeStamp = new Date();
		var TimeStamp= (TimeStamp.getMonth()+ 1) + '/' + TimeStamp.getDate() + "/" + TimeStamp.getFullYear() + " @ " +TimeStamp.getHours() + ":"+ TimeStamp.getMinutes() + ":" + TimeStamp.getSeconds();
 		localStorage[TimeStamp] = messages;
 		$("#log").prepend('<p><b>'+TimeStamp+'</b> - '+localStorage[TimeStamp]+'</p>');
	}
	function ReloadMessages(){
	 	for (key in localStorage) {
	  		output = '<p><b>'+key+'</b> - '+localStorage[key]+'</p>\n';
	  		$("#log").prepend(output);	
		}
	 }
	
	</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>